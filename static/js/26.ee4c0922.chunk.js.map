{"version":3,"sources":["../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/curve/step.js","components/Timeseries.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/sourceEvent.js"],"names":["useIsomorphicLayoutEffect","isBrowser","useLayoutEffect","useEffect","defaultState","x","y","width","height","top","left","bottom","right","window","ResizeObserver","_a","useState","element","ref","_b","rect","setRect","observer","useMemo","entries","contentRect","top_1","observe","disconnect","noop","transformLog","Math","log","transformExp","exp","transformLogn","transformExpn","pow10","isFinite","reflect","f","loggish","transform","logs","pows","scale","domain","base","rescale","E","log10","log2","logp","pow","powp","_","arguments","length","ticks","count","r","d","u","v","i","p","k","t","j","n","z","floor","ceil","push","min","map","reverse","tickFormat","specifier","format","Infinity","max","round","nice","transformer","copy","initRange","apply","epsilon","translateX","translateY","number","center","offset","bandwidth","entering","this","__axis","axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","devicePixelRatio","context","values","identity","spacing","range","range0","range1","position","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","getAttribute","parentNode","remove","filter","each","Array","from","slice","tickSize","axisRight","axisBottom","valueof","undefined","value","index","x0","y0","y1","x1","defined","constant","curve","curveLinear","output","area","buffer","array","defined0","x0z","y0z","areaStart","lineStart","lineEnd","point","areaEnd","arealine","pointX","pointY","lineX0","lineY0","lineY1","lineX1","Step","_context","_t","prototype","_line","NaN","_x","_y","_point","lineTo","closePath","moveTo","margin","yScaleShrinkFactor","Timeseries","statistics","timeseries","dates","endDate","chartType","isUniform","isLog","isMovingAverage","noRegionHighlightedDistrictData","useTranslation","refs","useRef","useMeasure","wrapperRef","highlightedDate","setHighlightedDate","getTimeseriesStatistic","useCallback","date","statistic","movingAverage","getStatistic","condenseChart","T","days","differenceInDays","parseIndiaDate","chartRight","xScale","scaleTime","clamp","yScales","chartBottom","addScaleBuffer","extent","reduce","res","PRIMARY_STATISTICS","uniformScaleMin","uniformScaleMax","yScaleUniformLinear","scaleLinear","yScaleUniformLog","scaleLog","includes","scaleMin","scaleMax","STATISTIC_CONFIGS","isDiscrete","xAxis","g","call","numTicksX","xAxis2","yScale","style","yAxis","num","formatNumber","forEach","current","svg","duration","D3_TRANSITION_DURATION","statisticConfig","isNonLinear","nonLinear","join","color","areaPath","allZero","curveStep","update","attrTween","previous","interpolatePath","linePath","curveMonotoneX","on","mousemove","event","touches","mouseout","xm","node","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","clientLeft","clientTop","pageX","pageY","pointer","invert","isNaN","bisectDate","bisector","dateLeft","dateRight","getTimeseriesStatisticDelta","currCount","hideZero","prevDate","findIndex","trail","animationDelay","className","total","delta","classnames","capitalize","displayName","formatDate","hasPrimary","preserveAspectRatio","isEqual","prevProps","currProps","equal","regionHighlighted","stateCode","districtName","memo"],"mappings":"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","file":"static/js/26.ee4c0922.chunk.js","sourcesContent":["import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","import {\n  D3_TRANSITION_DURATION,\n  PRIMARY_STATISTICS,\n  STATISTIC_CONFIGS,\n} from '../constants';\nimport {\n  capitalize,\n  formatNumber,\n  formatDate,\n  getStatistic,\n  parseIndiaDate,\n} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport {bisector, extent} from 'd3-array';\nimport {axisBottom, axisRight} from 'd3-axis';\nimport {interpolatePath} from 'd3-interpolate-path';\nimport {scaleTime, scaleLinear, scaleLog} from 'd3-scale';\nimport {select, pointer} from 'd3-selection';\nimport {area, line, curveLinear, curveMonotoneX, curveStep} from 'd3-shape';\nimport 'd3-transition';\nimport {differenceInDays} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport {memo, useCallback, useEffect, useRef, useMemo, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useMeasure} from 'react-use';\n\n// Chart margins\nconst margin = {top: 15, right: 35, bottom: 25, left: 25};\n// Buffer space along y-axis\nconst yScaleShrinkFactor = 0.7;\nconst numTicksX = (width) => (width < 480 ? 4 : 6);\n\nfunction Timeseries({\n  statistics,\n  timeseries,\n  dates,\n  endDate,\n  chartType,\n  isUniform,\n  isLog,\n  isMovingAverage,\n  noRegionHighlightedDistrictData,\n}) {\n  const {t} = useTranslation();\n  const refs = useRef([]);\n  const [wrapperRef, {width, height}] = useMeasure();\n\n  const [highlightedDate, setHighlightedDate] = useState(\n    dates[dates.length - 1]\n  );\n  useEffect(() => {\n    setHighlightedDate(dates[dates.length - 1]);\n  }, [dates]);\n\n  const getTimeseriesStatistic = useCallback(\n    (date, statistic, movingAverage = isMovingAverage) => {\n      return getStatistic(timeseries?.[date], chartType, statistic, {\n        movingAverage,\n      });\n    },\n    [chartType, isMovingAverage, timeseries]\n  );\n\n  const condenseChart = useMemo(() => {\n    const T = dates.length;\n    const days = differenceInDays(\n      parseIndiaDate(dates[T - 1]),\n      parseIndiaDate(dates[0])\n    );\n    // Chart extremes\n    const chartRight = width - margin.right;\n    // Bar widths\n    const axisWidth = Math.max(0, chartRight - margin.left) / (1.25 * days);\n    return axisWidth < 4;\n  }, [width, dates]);\n\n  const xScale = useMemo(() => {\n    const T = dates.length;\n    const chartRight = width - margin.right;\n\n    return scaleTime()\n      .clamp(true)\n      .domain([\n        parseIndiaDate(dates[0] || endDate),\n        parseIndiaDate(dates[T - 1] || endDate),\n      ])\n      .range([margin.left, chartRight]);\n  }, [width, endDate, dates]);\n\n  const yScales = useMemo(() => {\n    const chartBottom = height - margin.bottom;\n\n    const addScaleBuffer = (scale, log = false) => {\n      const domain = scale.domain();\n      if (log) {\n        scale.domain([\n          domain[0],\n          domain[0] * Math.pow(domain[1] / domain[0], 1 / yScaleShrinkFactor),\n        ]);\n      } else {\n        scale.domain([\n          domain[0],\n          domain[0] + (domain[1] - domain[0]) / yScaleShrinkFactor,\n        ]);\n      }\n      return scale;\n    };\n\n    const [uniformScaleMin, uniformScaleMax] = extent(\n      dates.reduce((res, date) => {\n        res.push(\n          ...PRIMARY_STATISTICS.map((statistic) =>\n            getTimeseriesStatistic(date, statistic)\n          )\n        );\n        return res;\n      }, [])\n    );\n\n    const yScaleUniformLinear = addScaleBuffer(\n      scaleLinear()\n        .clamp(true)\n        .domain([Math.min(0, uniformScaleMin), Math.max(1, uniformScaleMax)])\n        .range([chartBottom, margin.top])\n        .nice(4)\n    );\n\n    const yScaleUniformLog = addScaleBuffer(\n      scaleLog()\n        .clamp(true)\n        .domain([1, Math.max(10, uniformScaleMax)])\n        .range([chartBottom, margin.top])\n        .nice(4),\n      true\n    );\n\n    return statistics.map((statistic) => {\n      if (isUniform) {\n        if (\n          chartType === 'total' &&\n          isLog &&\n          PRIMARY_STATISTICS.includes(statistic)\n        ) {\n          return yScaleUniformLog;\n        } else if (PRIMARY_STATISTICS.includes(statistic)) {\n          return yScaleUniformLinear;\n        }\n      }\n\n      const [scaleMin, scaleMax] = extent(dates, (date) =>\n        getTimeseriesStatistic(date, statistic)\n      );\n\n      if (chartType === 'total' && isLog) {\n        return addScaleBuffer(\n          scaleLog()\n            .clamp(true)\n            .domain([1, Math.max(10, scaleMax)])\n            .range([chartBottom, margin.top])\n            .nice(4),\n          true\n        );\n      } else {\n        return addScaleBuffer(\n          scaleLinear()\n            .clamp(true)\n            .domain([\n              Math.min(0, scaleMin),\n              STATISTIC_CONFIGS[statistic].format === '%'\n                ? Math.min(100, Math.max(1, scaleMax))\n                : Math.max(1, scaleMax),\n            ])\n            .range([chartBottom, margin.top])\n            .nice(4)\n        );\n      }\n    });\n  }, [\n    height,\n    chartType,\n    isUniform,\n    isLog,\n    statistics,\n    dates,\n    getTimeseriesStatistic,\n  ]);\n\n  useEffect(() => {\n    if (!width || !height) return;\n\n    const T = dates.length;\n    // Chart extremes\n    const chartRight = width - margin.right;\n    const chartBottom = height - margin.bottom;\n\n    const isDiscrete = chartType === 'delta' && !isMovingAverage;\n\n    const xAxis = (g) =>\n      g\n        .attr('class', 'x-axis')\n        .call(axisBottom(xScale).ticks(numTicksX(width)));\n\n    const xAxis2 = (g, yScale) => {\n      g.attr('class', 'x-axis2')\n        .call(axisBottom(xScale).tickValues([]).tickSize(0))\n        .select('.domain')\n        .style('transform', `translate3d(0, ${yScale(0)}px, 0)`);\n\n      if (yScale(0) !== chartBottom) g.select('.domain').attr('opacity', 0.4);\n      else g.select('.domain').attr('opacity', 0);\n    };\n\n    const yAxis = (g, yScale, format) =>\n      g.attr('class', 'y-axis').call(\n        axisRight(yScale)\n          .ticks(4)\n          .tickFormat((num) => formatNumber(num, format))\n          .tickPadding(4)\n      );\n\n    function mousemove(event) {\n      const xm = pointer(event)[0];\n      const date = xScale.invert(xm);\n      if (!isNaN(date)) {\n        const bisectDate = bisector((date) => parseIndiaDate(date)).left;\n        const index = bisectDate(dates, date, 1);\n        const dateLeft = dates[index - 1];\n        const dateRight = dates[index];\n        setHighlightedDate(\n          date - parseIndiaDate(dateLeft) < parseIndiaDate(dateRight) - date\n            ? dateLeft\n            : dateRight\n        );\n      }\n    }\n\n    function mouseout(event) {\n      setHighlightedDate(dates[T - 1]);\n    }\n\n    /* Begin drawing charts */\n    statistics.forEach((statistic, i) => {\n      const ref = refs.current[i];\n      const svg = select(ref);\n      const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n      const yScale = yScales[i];\n      const statisticConfig = STATISTIC_CONFIGS[statistic];\n      const format =\n        STATISTIC_CONFIGS[statistic].format === '%' ? '%' : 'short';\n      const isNonLinear = !!STATISTIC_CONFIGS[statistic]?.nonLinear;\n\n      /* X axis */\n      svg\n        .select('.x-axis')\n        .style('transform', `translate3d(0, ${chartBottom}px, 0)`)\n        .transition(t)\n        .call(xAxis);\n\n      svg.select('.x-axis2').transition(t).call(xAxis2, yScale);\n\n      /* Y axis */\n      svg\n        .select('.y-axis')\n        .style('transform', `translate3d(${chartRight}px, 0, 0)`)\n        .transition(t)\n        .call(yAxis, yScale, format);\n\n      /* Path dots */\n      svg\n        .selectAll('circle.normal')\n        .data(condenseChart ? [] : dates, (date) => date)\n        .join((enter) =>\n          enter\n            .append('circle')\n            .attr('class', 'normal')\n            .attr('fill', statisticConfig?.color)\n            .attr('stroke', statisticConfig?.color)\n            .attr('cx', (date) => xScale(parseIndiaDate(date)))\n            .attr('cy', (date) =>\n              yScale(isDiscrete ? 0 : getTimeseriesStatistic(date, statistic))\n            )\n            .attr('r', 2)\n        )\n        .transition(t)\n        .attr('cx', (date) => xScale(parseIndiaDate(date)))\n        .attr('cy', (date) => yScale(getTimeseriesStatistic(date, statistic)));\n\n      const areaPath = (dates, allZero = false) =>\n        area()\n          .curve(curveStep)\n          .x((date) => xScale(parseIndiaDate(date)))\n          .y0(yScale(0))\n          .y1(\n            allZero\n              ? yScale(0)\n              : (date) => yScale(getTimeseriesStatistic(date, statistic, false))\n          )(dates);\n\n      svg\n        .selectAll('.trend-area')\n        .data(\n          T && chartType === 'delta' && !isNonLinear && condenseChart\n            ? [dates]\n            : []\n        )\n        .join(\n          (enter) =>\n            enter\n              .append('path')\n              .attr('class', 'trend-area')\n              .call((enter) =>\n                enter\n                  .attr('d', (dates) => areaPath(dates, true))\n                  .transition(t)\n                  .attr('d', areaPath)\n              ),\n          (update) =>\n            update.call((update) =>\n              update.transition(t).attrTween('d', function (dates) {\n                const previous = select(this).attr('d');\n                const current = areaPath(dates);\n                return interpolatePath(previous, current);\n              })\n            ),\n          (exit) =>\n            exit.call((exit) =>\n              exit\n                .transition(t)\n                .attr('d', (dates) => areaPath(dates, true))\n                .remove()\n            )\n        )\n        .transition(t)\n        .attr('opacity', isMovingAverage ? 0.3 : 1);\n\n      svg\n        .selectAll('.stem')\n        .data(\n          T && chartType === 'delta' && !isNonLinear && !condenseChart\n            ? dates\n            : [],\n          (date) => date\n        )\n        .join(\n          (enter) =>\n            enter\n              .append('line')\n              .attr('class', 'stem')\n              .attr('stroke-width', 4)\n              .attr('x1', (date) => xScale(parseIndiaDate(date)))\n              .attr('y1', yScale(0))\n              .attr('x2', (date) => xScale(parseIndiaDate(date)))\n              .attr('y2', yScale(0)),\n          (update) => update,\n          (exit) =>\n            exit.call((exit) =>\n              exit\n                .transition(t)\n                .attr('x1', (date) => xScale(parseIndiaDate(date)))\n                .attr('x2', (date) => xScale(parseIndiaDate(date)))\n                .attr('y1', yScale(0))\n                .attr('y2', yScale(0))\n                .remove()\n            )\n        )\n        .transition(t)\n        .attr('x1', (date) => xScale(parseIndiaDate(date)))\n        .attr('y1', yScale(0))\n        .attr('x2', (date) => xScale(parseIndiaDate(date)))\n        .attr('y2', (date) =>\n          yScale(getTimeseriesStatistic(date, statistic, false))\n        )\n        .attr('opacity', isMovingAverage ? 0.2 : 1);\n\n      const linePath = (\n        movingAverage = isMovingAverage,\n        curve = curveMonotoneX\n      ) =>\n        line()\n          .curve(curve)\n          .x((date) => xScale(parseIndiaDate(date)))\n          .y((date) =>\n            yScale(getTimeseriesStatistic(date, statistic, movingAverage))\n          );\n\n      svg\n        .select('.trend')\n        .selectAll('path')\n        .data(\n          T && (chartType === 'total' || isNonLinear || isMovingAverage)\n            ? [dates]\n            : []\n        )\n        .join(\n          (enter) =>\n            enter\n              .append('path')\n              .attr('class', 'trend')\n              .attr('fill', 'none')\n              .attr('stroke-width', 4)\n              .attr('d', linePath())\n              .call((enter) => enter.transition(t).attr('opacity', 1)),\n          (update) =>\n            update.call((update) =>\n              update\n                .attr('opacity', 1)\n                .transition(t)\n                .attrTween('d', function (date) {\n                  const previous = select(this).attr('d');\n                  const current = linePath()(date);\n                  return interpolatePath(previous, current);\n                })\n            ),\n          (exit) =>\n            exit.call((exit) => exit.transition(t).attr('opacity', 0).remove())\n        )\n        .attr('stroke', statisticConfig?.color + (condenseChart ? '99' : '50'));\n\n      svg\n        .select('.trend-background')\n        .selectAll('path')\n        .data(\n          T && chartType === 'delta' && isNonLinear && isMovingAverage\n            ? [dates]\n            : []\n        )\n        .join(\n          (enter) =>\n            enter\n              .append('path')\n              .attr('class', 'trend-background')\n              .attr('fill', 'none')\n              .attr('stroke-width', 4)\n              .attr('d', linePath(false, curveLinear))\n              .call((enter) => enter.transition(t).attr('opacity', 0.2)),\n          (update) =>\n            update.call((update) =>\n              update.transition(t).attrTween('d', function (date) {\n                const previous = select(this).attr('d');\n                const current = linePath(false, curveLinear)(date);\n                return interpolatePath(previous, current);\n              })\n            ),\n          (exit) =>\n            exit.call((exit) => exit.transition(t).attr('opacity', 0).remove())\n        )\n        .attr('stroke', statisticConfig?.color + (condenseChart ? '99' : '50'));\n\n      svg.selectAll('*').attr('pointer-events', 'none');\n      svg\n        .on('mousemove', mousemove)\n        .on('touchmove', (event) => mousemove(event.touches[0]))\n        .on('mouseout touchend', mouseout);\n    });\n  }, [\n    width,\n    height,\n    chartType,\n    isMovingAverage,\n    condenseChart,\n    xScale,\n    yScales,\n    statistics,\n    getTimeseriesStatistic,\n    dates,\n  ]);\n\n  useEffect(() => {\n    statistics.forEach((statistic, i) => {\n      const ref = refs.current[i];\n      const svg = select(ref);\n      const statisticConfig = STATISTIC_CONFIGS[statistic];\n      const yScale = yScales[i];\n      const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n      svg\n        .selectAll('circle.condensed')\n        .data(\n          condenseChart && highlightedDate ? [highlightedDate] : [],\n          (date) => date\n        )\n        .join((enter) =>\n          enter\n            .append('circle')\n            .attr('class', 'condensed')\n            .attr('fill', statisticConfig?.color)\n            .attr('stroke', statisticConfig?.color)\n            .attr('pointer-events', 'none')\n            .attr('cx', (date) => xScale(parseIndiaDate(date)))\n            .attr('cy', (date) =>\n              yScale(getTimeseriesStatistic(date, statistic))\n            )\n            .attr('r', 4)\n        )\n        .transition(t)\n        .attr('cx', (date) => xScale(parseIndiaDate(date)))\n        .attr('cy', (date) => yScale(getTimeseriesStatistic(date, statistic)));\n\n      if (!condenseChart) {\n        svg\n          .selectAll('circle')\n          .attr('r', (date) => (date === highlightedDate ? 4 : 2));\n      }\n    });\n  }, [\n    condenseChart,\n    highlightedDate,\n    xScale,\n    yScales,\n    statistics,\n    getTimeseriesStatistic,\n  ]);\n\n  const getTimeseriesStatisticDelta = useCallback(\n    (statistic) => {\n      if (!highlightedDate) return;\n\n      const currCount = getTimeseriesStatistic(highlightedDate, statistic);\n      if (STATISTIC_CONFIGS[statistic]?.hideZero && currCount === 0) return;\n\n      const prevDate =\n        dates[dates.findIndex((date) => date === highlightedDate) - 1];\n\n      const prevCount = getTimeseriesStatistic(prevDate, statistic);\n      return currCount - prevCount;\n    },\n    [dates, highlightedDate, getTimeseriesStatistic]\n  );\n\n  const trail = useMemo(\n    () =>\n      statistics.map((statistic, index) => ({\n        animationDelay: `${index * 250}ms`,\n      })),\n    [statistics]\n  );\n\n  return (\n    <div className=\"Timeseries\">\n      {statistics.map((statistic, index) => {\n        const total = getTimeseriesStatistic(highlightedDate, statistic);\n        const delta = getTimeseriesStatisticDelta(statistic, index);\n        const statisticConfig = STATISTIC_CONFIGS[statistic];\n        return (\n          <div\n            key={statistic}\n            className={classnames('svg-parent fadeInUp', `is-${statistic}`)}\n            style={trail[index]}\n            ref={index === 0 ? wrapperRef : null}\n          >\n            {highlightedDate && (\n              <div className={classnames('stats', `is-${statistic}`)}>\n                <h5 className=\"title\">\n                  {t(capitalize(statisticConfig.displayName))}\n                </h5>\n                <h5>{formatDate(highlightedDate, 'dd MMMM')}</h5>\n                <div className=\"stats-bottom\">\n                  <h2>\n                    {!noRegionHighlightedDistrictData ||\n                    !statisticConfig?.hasPrimary\n                      ? formatNumber(\n                          total,\n                          statisticConfig.format !== 'short'\n                            ? statisticConfig.format\n                            : 'long',\n                          statistic\n                        )\n                      : '-'}\n                  </h2>\n                  <h6>\n                    {!noRegionHighlightedDistrictData ||\n                    !statisticConfig?.hasPrimary\n                      ? `${delta > 0 ? '+' : ''}${formatNumber(\n                          delta,\n                          statisticConfig.format !== 'short'\n                            ? statisticConfig.format\n                            : 'long',\n                          statistic\n                        )}`\n                      : ''}\n                  </h6>\n                </div>\n              </div>\n            )}\n            <svg\n              ref={(element) => {\n                refs.current[index] = element;\n              }}\n              preserveAspectRatio=\"xMidYMid meet\"\n            >\n              <g className=\"x-axis\" />\n              <g className=\"x-axis2\" />\n              <g className=\"y-axis\" />\n              <g className=\"trend-background\" />\n              <g className=\"trend\" />\n            </svg>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(currProps.chartType, prevProps.chartType)) {\n    return false;\n  } else if (!equal(currProps.isUniform, prevProps.isUniform)) {\n    return false;\n  } else if (!equal(currProps.isLog, prevProps.isLog)) {\n    return false;\n  } else if (!equal(currProps.isMovingAverage, prevProps.isMovingAverage)) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.stateCode,\n      prevProps.regionHighlighted.stateCode\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.districtName,\n      prevProps.regionHighlighted.districtName\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      currProps.noRegionHighlightedDistrictData,\n      prevProps.noRegionHighlightedDistrictData\n    )\n  ) {\n    return false;\n  } else if (!equal(currProps.endDate, prevProps.endDate)) {\n    return false;\n  } else if (!equal(currProps.statistics, prevProps.statistics)) {\n    return false;\n  } else if (!equal(currProps.dates, prevProps.dates)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(Timeseries, isEqual);\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n"],"sourceRoot":""}